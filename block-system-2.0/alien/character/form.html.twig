{% import _self as sheet %}
{# ---------------------------------------------- #}
{% macro genWeapon(id = 0, name = '', damage = '', range = '', bonus = '') %}{% set eo = "odd" %}{% if id is even %}{% set eo = "ev" %}{% endif %}<tr>
<td class="lbl {{eo}} l"><input value="{{ name }}" class="form-control" id="weapon_name_{{id}}" name="weapon_name_{{id}}" type="text" /></td>
<td class="att {{eo}} c"><input value="{{ bonus }}" class="form-control c" id="weapon_bonus_{{id}}" name="weapon_bonus_{{id}}" type="text" /></td>
<td class="att {{eo}} c"><input value="{{ damage }}" class="form-control c" id="weapon_damage_{{id}}" name="weapon_damage_{{id}}" type="text" /></td>
<td class="att {{eo}} c"><input value="{{ range }}" class="form-control c" id="weapon_range_{{id}}" name="weapon_range_{{id}}" type="text" /></td>
</tr>{% endmacro genWeapon %}
{# ---------------------------------------------- #}
{% macro genSkill(id = 0, name = '', att = '', attname = '', value = '', datt = '', dattname = '', dname = '') %}{% set eo = "odd" %}{% if id is even %}{% set eo = "ev" %}{% endif %}
{% if name == '' %}{% set name = dname %}{% endif %}<tr>
{% if att == '' %}{% set att = datt %}{% set attname = dattname %}{% endif %}
{% if value == '' %}{% set value = '0' %}{% endif %}
<td class="lbl {{eo}} l"><input value="{{ name }}" class="form-control" id="skill_name_{{id}}" name="skill_name_{{id}}" type="text" /></td>
<td class="att {{eo}} c"><select class="form-control" id="skill_att_{{id}}" name="skill_att_{{id}}">
	<option value="strength" {% if attname == "strength" %}selected="selected" {% endif %} >Strength</option>
	<option value="agility" {% if attname == "agility" %}selected="selected" {% endif %} >Agility</option>
	<option value="wits" {% if attname == "wits" %}selected="selected" {% endif %} >Wits</option>
	<option value="empathy" {% if attname == "empathy" %}selected="selected" {% endif %} >Empathy</option>
</select></td>
<td class="att {{eo}} c" width="20%" title="skill value"><input value="{{ value }}" class="form-control c" id="skill_value_{{id}}" name="skill_value_{{id}}" type="text" /></td>
</tr>{% endmacro genSkill %}
{# ---------------------------------------------- #}
<div class="container-fluid alien-sheet">
	<div class="row">
		<div class="col-12 col-xs-12 hidden-xs hidden-sm hidden-md d-none d-lg-block">
		<h1>{{ variables.name|default('Alien RPG Character Sheet') }}</h1>
		</div>		
		<div class="col-12 col-md-12 col-lg-12 my-2">
			<div class="card my-2">
                <div class="headerContainer">
					<span class="headerContent">Personal</span>
				</div>
				<div class="contentContainer">
					<span class="inputLabel">Name</span>
					<span class="inputContent"><input value="{{ variables.name|default('') }}" required="required" class="form-control" id="name" name="name" placeholder="The name of the character" type="text" /></span>
				</div>
				<div class="contentContainer">
					<span class="inputLabel">Career</span>
					<span class="inputContent"><input value="{{ variables.career|default('') }}" required="required" class="form-control" id="career" name="career" type="text" /></span>
				</div>
				<div class="contentContainer">
					<span class="inputLabel">Appearance</span>
					<span class="inputContent"><textarea class="form-control" id="appearance" name="appearance" rows="3">{{ variables.appearance|default('') }}</textarea></span>
				</div>
				<div class="contentContainer">
					<span class="inputLabel">Personal Agenda</span>
					<span class="inputContent"><textarea class="form-control" id="personal_agenda" name="personal_agenda" rows="3">{{ variables.personal_agenda|default('') }}</textarea></span>
				</div>
				<div class="contentContainer">
					<span class="inputLabel">Buddy</span>
					<span class="inputContent"><input value="{{ variables.buddy|default('') }}" class="form-control" id="buddy" name="buddy" type="text" /></span>
				</div>
				<div class="contentContainer">
					<span class="inputLabel">Rival</span>
					<span class="inputContent"><input value="{{ variables.rival|default('') }}" class="form-control" id="rival" name="rival" type="text" /></span>
				</div>
				<div class="contentContainer">
					<span class="inputLabel">WA Image ID for profile picture</span>
					<span class="inputContent"><input value="{{ variables.imageid|default('') }}" class="form-control" id="imageid" name="imageid" type="number" /></span>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-12 col-md-6 col-lg-6">
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Skills</span>
				</div>
				<div class="tableContainer">
					<table width="100%" class="alttable">
					<tr>
						<td class="hdr c">SKILL</td>
						<td class="hdr c">ATTRIBUTE</td>
						<td class="hdr c">VALUE</td>
					</tr>
						{{ sheet.genSkill( "01", variables.skill_name_01, attribute(variables, 'att_' ~ variables.skill_att_01), variables.skill_att_01, variables.skill_value_01, variables.att_strength, 'strength', 'Heavy Machinery') }}
						{{ sheet.genSkill( "02", variables.skill_name_02, attribute(variables, 'att_' ~ variables.skill_att_02), variables.skill_att_02, variables.skill_value_02, variables.att_strength, 'strength', 'Close Combat') }}
						{{ sheet.genSkill( "03", variables.skill_name_03, attribute(variables, 'att_' ~ variables.skill_att_03), variables.skill_att_03, variables.skill_value_03, variables.att_strength, 'strength', 'Stamina') }}
						{{ sheet.genSkill( "04", variables.skill_name_04, attribute(variables, 'att_' ~ variables.skill_att_04), variables.skill_att_04, variables.skill_value_04, variables.att_agility, 'agility', 'Ranged Combat') }}
						{{ sheet.genSkill( "05", variables.skill_name_05, attribute(variables, 'att_' ~ variables.skill_att_05), variables.skill_att_05, variables.skill_value_05, variables.att_agility, 'agility', 'Mobility') }}
						{{ sheet.genSkill( "06", variables.skill_name_06, attribute(variables, 'att_' ~ variables.skill_att_06), variables.skill_att_06, variables.skill_value_06, variables.att_agility, 'agility', 'Piloting') }}
						{{ sheet.genSkill( "07", variables.skill_name_07, attribute(variables, 'att_' ~ variables.skill_att_07), variables.skill_att_07, variables.skill_value_07, variables.att_wits, 'wits', 'Observation') }}
						{{ sheet.genSkill( "08", variables.skill_name_08, attribute(variables, 'att_' ~ variables.skill_att_08), variables.skill_att_08, variables.skill_value_08, variables.att_wits, 'wits', 'Survival') }}
						{{ sheet.genSkill( "09", variables.skill_name_09, attribute(variables, 'att_' ~ variables.skill_att_09), variables.skill_att_09, variables.skill_value_09, variables.att_wits, 'wits', 'Comtech') }}
						{{ sheet.genSkill( "10", variables.skill_name_10, attribute(variables, 'att_' ~ variables.skill_att_10), variables.skill_att_10, variables.skill_value_10, variables.att_empathy, 'empathy', 'Command') }}
						{{ sheet.genSkill( "11", variables.skill_name_11, attribute(variables, 'att_' ~ variables.skill_att_11), variables.skill_att_11, variables.skill_value_11, variables.att_empathy, 'empathy', 'Manipulation') }}
						{{ sheet.genSkill( "12", variables.skill_name_12, attribute(variables, 'att_' ~ variables.skill_att_12), variables.skill_att_12, variables.skill_value_12, variables.att_empathy, 'empathy', 'Medical Aid') }}
					</table>
				</div>
			</div>
		</div>
		<div class="col-12 col-md-6 col-lg-6">
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Attributes</span>
				</div>
				<div class="tableContainer">
					<table width="100%" class="alttable">
						<tr>
							<td class="lbl odd l">Strength</td><td class="att odd c" width="30%"><input value="{{ variables.att_strength|default('') }}" required="required" class="form-control c" id="att_strength" name="att_strength" type="text" /></td>
						</tr>
						<tr>
							<td class="lbl ev l">Agility</td><td class="att ev c"><input value="{{ variables.att_agility|default('') }}" required="required" class="form-control c" id="att_agility" name="att_agility" type="text" /></td>
						</tr>
						<tr>
							<td class="lbl odd l">Wits</td><td class="att odd c"><input value="{{ variables.att_wits|default('') }}" required="required" class="form-control c" id="att_wits" name="att_wits" type="text" /></td>
						</tr>
						<tr>
							<td class="lbl ev l">Empathy</td><td class="att ev c"><input value="{{ variables.att_empathy|default('') }}" required="required" class="form-control c" id="att_empathy" name="att_empathy" type="text" /></td>
						</tr>
					</table>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Talents</span>
				</div>
				<div class="contentContainer list">
					<span class="inputContent"><textarea class="form-control" id="talents" name="talents" rows="3">{{ variables.talents|default('') }}</textarea></span>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Weapons</span>
				</div>
				<div class="tableContainer">
					<table width="100%" class="alttable">
						<tr>
							<td class="hdr c">&nbsp;</td>
							<td class="hdr c" width="15%" title="Bonus">BONUS</td>
							<td class="hdr c" width="15%" title="Damage">DMG</td>
							<td class="hdr c" width="15%" title="Range">RNG</td>
						</tr>
						{% for i in 1..5 %}{% set id = i %}{% if id < 10 %}{% set id = '0' ~ id %}{% endif %}
							{{ sheet.genWeapon(
								id,
								attribute(variables, 'weapon_name_' ~ id),
								attribute(variables, 'weapon_damage_' ~ id),
								attribute(variables, 'weapon_range_' ~ id),
								attribute(variables, 'weapon_bonus_' ~ id)
								)
							}}
						{% endfor %}
					</table>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-12 col-md-6 col-lg-6">
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Armor</span>
				</div>
				<div class="tableContainer">
					<table width="100%" class="alttable">
						<tr>
							<td class="hdr c">&nbsp;</td>
							<td class="hdr c" width="20%" title="Protection">PROT</td>
						</tr>
						<tr>
							<td class="lbl odd l"><input value="{{ variables.armor_name|default('') }}" class="form-control" id="armor_name" name="armor_name" type="text" /></td>
							<td class="att odd c"><input value="{{ variables.armor_rating|default('') }}" class="form-control c" id="armor_rating" name="armor_rating" type="text" /></td>
						</tr>
					</table>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Conditions</span>
				</div>
				<div class="tableContainer">
					<table width="100%" class="alttable">
						<tr>
							<td class="lbl odd l">Starving</td><td class="cond odd c" width="50%">
								<input value="1" {% if variables.cond_starving is defined and variables.cond_starving == 1 %} checked="checked"{% endif %} id="cond_starving" name="cond_starving" placeholder="" type="checkbox" />
							</td>
						</tr>
						<tr>
							<td class="lbl ev l">Dehydrated</td><td class="cond ev c">
								<input value="1" {% if variables.cond_dehydrated is defined and variables.cond_dehydrated == 1 %} checked="checked"{% endif %} id="cond_dehydrated" name="cond_dehydrated" placeholder="" type="checkbox" />
							</td>
						</tr>
						<tr>
							<td class="lbl odd l">Exhausted</td><td class="cond odd c" width="50%">
								<input value="1" {% if variables.cond_exhausted is defined and variables.cond_exhausted == 1 %} checked="checked"{% endif %} id="cond_exhausted" name="cond_exhausted" placeholder="" type="checkbox" />
							</td>
						</tr>
						<tr>
							<td class="lbl ev l">Freezing</td><td class="cond ev c">
								<input value="1" {% if variables.cond_freezing is defined and variables.cond_freezing == 1 %} checked="checked"{% endif %} id="cond_freezing" name="cond_freezing" placeholder="" type="checkbox" />
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="col-12 col-md-6 col-lg-6">
			<div class="row">
				<div class="col-12 col-md-6 col-lg-6">
					<div class="card my-2">
						<div class="headerContainer">
							<span class="headerContent">Stress <span class="badge"><input value="{{ variables.stress|default('') }}" class="form-control c" id="stress" name="stress" type="text" /></span></span>
						</div>
					</div>
				</div>
				<div class="col-12 col-md-6 col-lg-6">
					<div class="card my-2">
						<div class="headerContainer">
							<span class="headerContent">Health <span class="badge"><input value="{{ variables.health|default('') }}" class="form-control c" id="health" name="health" type="text" /></span></span>
						</div>
					</div>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Radiation <span class="badge"><input value="{{ variables.radiation|default('') }}" class="form-control c" id="radiation" name="radiation" type="text" /></span></span>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Critical Injuries</span>
				</div>
				<div class="contentContainer list">
					<span class="inputContent"><textarea class="form-control" id="injuries" name="injuries" rows="3">{{ variables.injuries|default('') }}</textarea></span>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-12 col-md-6 col-lg-6">
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Gear</span>
				</div>
				<div class="contentContainer list">
					<span class="inputContent"><textarea class="form-control" id="gear" name="gear" rows="3">{{ variables.gear|default('') }}</textarea></span>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Encumbrance <span class="badge"><input value="{{ variables.encumbrance|default('') }}" class="form-control c" id="encumbrance" name="encumbrance" type="text" /></span></span>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Consumables</span>
				</div>
				<div class="tableContainer">
					<table width="100%" class="alttable">
						<tr>
							<td class="lbl odd l">Air</td><td class="cond odd c" width="50%"><input value="{{ variables.consum_air|default('') }}" class="form-control c" id="consum_air" name="consum_air" type="text" /></td>
						</tr>
						<tr>
							<td class="lbl ev l">Food</td><td class="cond ev c"><input value="{{ variables.consum_food|default('') }}" class="form-control c" id="consum_food" name="consum_food" type="text" /></td>
						</tr>
						<tr>
							<td class="lbl odd l">Power</td><td class="cond odd c" width="50%"><input value="{{ variables.consum_power|default('') }}" class="form-control c" id="consum_power" name="consum_power" type="text" /></td>
						</tr>
						<tr>
							<td class="lbl ev l">Water</td><td class="cond ev c"><input value="{{ variables.consum_water|default('') }}" class="form-control c" id="consum_water" name="consum_water" type="text" /></td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="col-12 col-md-6 col-lg-6">
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Tiny Items</span>
				</div>
				<div class="contentContainer">
					<span class="inputContent"><textarea class="form-control" id="tiny_items" name="tiny_items" rows="3">{{ variables.tiny_items|default('') }}</textarea></span>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Signature Item</span>
				</div>
				<div class="contentContainer">
					<span class="inputContent"><input value="{{ variables.signature_item|default('') }}" class="form-control" id="signature_item" name="signature_item" type="text" /></span>
				</div>
			</div>
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Experience <span class="badge"><input value="{{ variables.experience|default('') }}" class="form-control c" id="experience" name="experience" type="text" /></span></span>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-12 col-md-12 col-lg-12">
			<div class="card my-2">
				<div class="headerContainer">
					<span class="headerContent">Notes</span>
				</div>
				<div class="contentContainer list">
					<span class="inputContent"><textarea class="form-control" id="notes" name="notes" rows="3">{{ variables.notes|default('') }}</textarea></span>
				</div>
			</div>
		</div>
    </div>
</div>